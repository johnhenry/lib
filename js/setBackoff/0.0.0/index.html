<!DOCTYPE html>
<html lang="en">
  <head>
    <title>John Henry</title>
    <link rel="canonical" href="https://johnhenry.github.io/" />
    <meta name="description" content="John Henry's Person Portfolio and Blog" />
    <meta name="robots" content="index,follow" />
    <meta name="theme-color" content="#343233" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8" />
    <meta
      name="keywords"
      content="fun,math,engineering,science,experiments,programming"
    />
    <meta name="author" content="John Henry" />
    <link
      rel="icon"
      href="https://johnhenry.github.io/image/iajh.png"
      type="image/png"
    />
    <link
      rel="stylesheet"
      href="https://johnhenry.github.io/lib/css/universal-unstyled-links/0.0.0/index.css"
    />
    <link rel="stylesheet" href="https://johnhenry.github.io/lib/style.css" />
  </head>
  <body>
    
<h1 id="timers">Timers</h1>
<h2 id="setintervalwait">setIntervalWait</h2>
<p><code>setIntervalWait</code> has a similar API to set the built-in <code>setInterval</code> function, but it waits for the previous instance callback to be completed before calling the next. Additonally <code>clearIntervalWait</code> returns true if the id exists, and false if it does not.</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="im">import</span> setInterval<span class="op">,</span> <span class="op">{</span>
  clear <span class="im">as</span> cleaIntervalWait<span class="op">,</span>
<span class="op">}</span> <span class="im">from</span> <span class="st">&quot;./set-interval-wait.mjs&quot;</span><span class="op">;</span>
<span class="kw">const</span> id <span class="op">=</span> <span class="at">setInterval</span>(() <span class="op">=&gt;</span> <span class="op">{</span>
  <span class="co">/* function that must finish  */</span>
<span class="op">},</span> <span class="dv">100</span>)<span class="op">;</span>
<span class="at">setTimeout</span>(() <span class="op">=&gt;</span> <span class="at">clearIntervalWait</span>(id)<span class="op">,</span> <span class="dv">2000</span>)<span class="op">;</span></code></pre></div>
<h2 id="setretry">setRetry</h2>
<p><code>setRetry</code> has a similar API to set the built-in <code>setTimeout</code> and <code>setInterval</code> functions. The difference is that it will retry the callback if it fails (throws an error) at constant intervals.</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="im">import</span> setRetry<span class="op">,</span> <span class="op">{</span> clear <span class="im">as</span> clearRetry <span class="op">}</span> <span class="im">from</span> <span class="st">&quot;./set-retry.mjs&quot;</span><span class="op">;</span>
<span class="kw">const</span> id <span class="op">=</span> <span class="at">setRetry</span>(() <span class="op">=&gt;</span> <span class="op">{</span>
  <span class="co">/* function that may throw an error */</span>
<span class="op">},</span> <span class="dv">100</span>)<span class="op">;</span></code></pre></div>
<h2 id="setbackoff">setBackoff</h2>
<p><code>setRetry</code> has a similar API <code>setRetry</code>. The difference is that it will retry the callback if it fails (throws an error) at exponentially increasing intervals intervals.</p>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="im">import</span> setBackoff<span class="op">,</span> <span class="op">{</span> clear <span class="im">as</span> clearBackoff <span class="op">}</span> <span class="im">from</span> <span class="st">&quot;./set-retry.mjs&quot;</span><span class="op">;</span>
<span class="kw">const</span> id <span class="op">=</span> <span class="at">setBackoff</span>(() <span class="op">=&gt;</span> <span class="op">{</span>
  <span class="co">/* function that may throw an error */</span>
<span class="op">},</span> <span class="dv">100</span>)<span class="op">;</span></code></pre></div>
<h2 id="asynctimeout">asyncTimeout</h2>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="im">import</span> setTimeoutAsync <span class="im">from</span> <span class="st">&quot;./set-timeout-async.mjs&quot;</span><span class="op">;</span>
<span class="kw">const</span> result <span class="op">=</span> await <span class="at">setTimeoutAsync</span>((arg) <span class="op">=&gt;</span> arg<span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="st">&quot;hello&quot;</span>)<span class="op">;</span></code></pre></div>
<h2 id="asyncretryasync">asyncRetryAsync</h2>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="im">import</span> setRetryAsync <span class="im">from</span> <span class="st">&quot;./set-retry-async.mjs&quot;</span><span class="op">;</span>
<span class="kw">const</span> result <span class="op">=</span> await <span class="at">setRetryAsync</span>((arg) <span class="op">=&gt;</span> arg<span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="st">&quot;hello&quot;</span>)<span class="op">;</span></code></pre></div>
<h2 id="asyncbackoffasync">asyncBackoffAsync</h2>
<div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="im">import</span> setBackoffAsync <span class="im">from</span> <span class="st">&quot;./set-backoff-async.mjs&quot;</span><span class="op">;</span>
<span class="kw">const</span> result <span class="op">=</span> await <span class="at">setBackoffAsync</span>((arg) <span class="op">=&gt;</span> arg<span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="st">&quot;hello&quot;</span>)<span class="op">;</span></code></pre></div>
  </body>
</html>
