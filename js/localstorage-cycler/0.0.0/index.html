<h1 id="localstorage-cycler">LocalStorage Cycler</h1>
<p>Cycle local storage values through a given list of strings</p>
<h2 id="usage">Usage</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> localStorageCycler <span class="im">from</span> <span class="st">&quot;?&quot;</span><span class="op">;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> updateLocalStorage <span class="op">=</span> <span class="fu">localStorageCycler</span>(<span class="st">&quot;my-key&quot;</span><span class="op">,</span> <span class="st">&quot;a&quot;</span><span class="op">,</span> <span class="st">&quot;b&quot;</span><span class="op">,</span> <span class="st">&quot;c&quot;</span>)<span class="op">;</span></span></code></pre></div>
<p>The call to “localStorageCycler” checks for the existence of the key (“my-key”) in localStorage. and sets it to the first key (“a”) if not already set.</p>
<p>When called, the “updateLocalStorage” function cycles the value associated with the key in localStorage through the given values (“a”, “b”, and “c”).</p>
<p>The “updateLocalStorage” returns an object with the following keys:</p>
<ul>
<li>key - the associated local storage key</li>
<li>value - the current value of the local storage item</li>
<li>index - the current index of the local storage item</li>
<li>result - the reuslt of an handler, if passed (see below)</li>
</ul>
<h2 id="change-handler">Change Handler</h2>
<p>To react to the change, pass a optional change handler as the second parameter to “localStorageCycler”.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> onChange <span class="op">=</span> ({ value<span class="op">,</span> key<span class="op">,</span> index<span class="op">,</span> events }) <span class="kw">=&gt;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>({ value<span class="op">,</span> key<span class="op">,</span> index<span class="op">,</span> events })<span class="op">;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> updateLocalStorage <span class="op">=</span> <span class="fu">localStorageCycler</span>(</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;my-key&quot;</span><span class="op">,</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  onChange<span class="op">,</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;a&quot;</span><span class="op">,</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;b&quot;</span><span class="op">,</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;c&quot;</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>)<span class="op">;</span></span></code></pre></div>
<p>The handler takes four parametes:</p>
<ul>
<li><p>the same, “key”, “value”, and “index” parameters returned from calling “updateLocalStorage”</p></li>
<li><p>an “events” parameter – an array of everything passed into the “updateLocalStorage” function OR an “init” CustomEvent if fired from the initial call to localStorageCycler.</p></li>
</ul>
