<!DOCTYPE html>
 <html lang="en"> <head> <pre><code>&lt;title&gt;John Henry&lt;/title&gt; &lt;link rel=&quot;canonical&quot; href=&quot;https://johnhenry.github.io/&quot; /&gt; &lt;meta name=&quot;description&quot; content=&quot;John Henry&#39;s Person Portfolio and Blog&quot; /&gt; &lt;meta name=&quot;robots&quot; content=&quot;index,follow&quot; /&gt; &lt;meta name=&quot;theme-color&quot; content=&quot;#343233&quot; /&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot; /&gt; &lt;meta charset=&quot;utf-8&quot; /&gt; &lt;meta name=&quot;keywords&quot; content=&quot;fun,math,engineering,science,experiments,programming&quot; /&gt; &lt;meta name=&quot;author&quot; content=&quot;John Henry&quot; /&gt; &lt;link rel=&quot;icon&quot; href=&quot;https://johnhenry.github.io/image/iajh.png&quot; type=&quot;image/png&quot; /&gt;</code></pre> </head> <body> <pre><code># LocalStorage Cycler</code></pre> <p>Cycle local storage values through a given list of strings</p> <h2 id="usage">Usage</h2> <div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="im">import</span> localStorageCycler <span class="im">from</span> <span class="st">&quot;?&quot;</span><span class="op">;</span> <span class="kw">const</span> updateLocalStorage <span class="op">=</span> <span class="at">localStorageCycler</span>(<span class="st">&quot;my-key&quot;</span><span class="op">,</span> <span class="st">&quot;a&quot;</span><span class="op">,</span> <span class="st">&quot;b&quot;</span><span class="op">,</span> <span class="st">&quot;c&quot;</span>)<span class="op">;</span></code></pre></div> <p>The call to &quot;localStorageCycler&quot; checks for the existence of the key (&quot;my-key&quot;) in localStorage. and sets it to the first key (&quot;a&quot;) if not already set.</p> <p>When called, the &quot;updateLocalStorage&quot; function cycles the value associated with the key in localStorage through the given values (&quot;a&quot;, &quot;b&quot;, and &quot;c&quot;).</p> <p>The &quot;updateLocalStorage&quot; returns an object with the following keys:</p> <ul> <li>key - the associated local storage key</li> <li>value - the current value of the local storage item</li> <li>index - the current index of the local storage item</li> <li>result - the reuslt of an handler, if passed (see below)</li> </ul> <h2 id="change-handler">Change Handler</h2> <p>To react to the change, pass a optional change handler as the second parameter to &quot;localStorageCycler&quot;.</p> <div class="sourceCode"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="kw">const</span> onChange <span class="op">=</span> (<span class="op">{</span> value<span class="op">,</span> key<span class="op">,</span> index<span class="op">,</span> events <span class="op">}</span>) <span class="op">=&gt;</span> <span class="va">console</span>.<span class="at">log</span>(<span class="op">{</span> value<span class="op">,</span> key<span class="op">,</span> index<span class="op">,</span> events <span class="op">}</span>)<span class="op">;</span> <span class="kw">const</span> updateLocalStorage <span class="op">=</span> <span class="at">localStorageCycler</span>( <span class="st">&quot;my-key&quot;</span><span class="op">,</span> onChange<span class="op">,</span> <span class="st">&quot;a&quot;</span><span class="op">,</span> <span class="st">&quot;b&quot;</span><span class="op">,</span> <span class="st">&quot;c&quot;</span> )<span class="op">;</span></code></pre></div> <p>The handler takes four parametes:</p> <ul> <li><p>the same, &quot;key&quot;, &quot;value&quot;, and &quot;index&quot; parameters returned from calling &quot;updateLocalStorage&quot;</p></li> <li>an &quot;events&quot; parameter -- an array of everything passed into the &quot;updateLocalStorage&quot; function OR an &quot;init&quot; CustomEvent if fired from the initial call to localStorageCycler. </body> </html></li> </ul>
