<!DOCTYPE html><html lang="en"><head><title>John Henry</title><link rel="canonical" href="https://johnhenry.github.io/"><meta name="description" content="John Henry's Person Portfolio and Blog"><meta name="robots" content="index,follow"><meta name="theme-color" content="#343233"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta charset="utf-8"><meta name="keywords" content="fun,math,engineering,science,experiments,programming"><meta name="author" content="John Henry"><script>
      globalThis.addEventListener('load', () => {
        globalThis.navigator.serviceWorker.register("/service-worker.js");
      });
    </script><link rel="manifest" href="https://johnhenry.github.io/manifest.json"><link rel="icon" href="https://johnhenry.github.io/image/iajh.png" type="image/png"><link rel="stylesheet" href="https://johnhenry.github.io/lib/vendor/css/reset/2.0.0/index.css"><link rel="stylesheet" href="https://johnhenry.github.io/lib/css/universal-unstyled-links/0.0.0/index.css"><link rel="stylesheet" href="https://johnhenry.github.io/lib/css/universal-box-sizing/0.0.0/index.css"><link rel="stylesheet" href="https://johnhenry.github.io/lib/css/universal-no-margins/0.0.0/index.css"><link rel="stylesheet" href="https://johnhenry.github.io/lib/css/hide-n-show/0.0.0/landscape.css"><link rel="stylesheet" href="https://johnhenry.github.io/style/index.css"><script type="module" src="https://johnhenry.github.io/lib/js/css-variables-mouse/0.0.0/index.mjs"></script><script type="module" src="https://johnhenry.github.io/lib/js/css-variables-scroll/0.0.0/index.mjs"></script><link rel="apple-touch-icon" sizes="512x512" href="https://johnhenry.github.io/image/iajh.512.png"><link rel="apple-touch-icon" sizes="384x384" href="https://johnhenry.github.io/image/iajh.384.png"><link rel="apple-touch-icon" sizes="256x256" href="https://johnhenry.github.io/image/iajh.256.png"><link rel="apple-touch-icon" sizes="192x192" href="https://johnhenry.github.io/image/iajh.192.png"><link rel="apple-touch-icon" sizes="128x128" href="https://johnhenry.github.io/image/iajh.128.png"></head><body>
<script type="module">
  import localStorageCycler from "https://johnhenry.github.io/lib/js/localstorage-cycler/0.0.0/index.mjs";
  const key = 'color-theme-preference';
  const values = ["","color-theme-dark","color-theme-light"];
  const target = globalThis.document.querySelector("body");
  const emit = ({value, key, index}) => {
    target.classList.remove(...values.filter(s=>s));
    if(value){
      target.classList.add(value);
    }
  }
  window["cycleTheme"] = localStorageCycler(key, emit, ...values);
</script>
<script type="module">
  import localStorageCycler from "https://johnhenry.github.io/lib/js/localstorage-cycler/0.0.0/index.mjs";
  const key = 'mouse-chaser-preference';
  const values = ["mouse-chaser-logo","mouse-chaser-coordinates",""];
  const target = globalThis.document.querySelector("body");
  const emit = ({value, key, index}) => {
    target.classList.remove(...values.filter(s=>s));
    if(value){
      target.classList.add(value);
    }
  }
  window["cycleMouseChaser"] = localStorageCycler(key, emit, ...values);
</script><header><a href="/#"><img src="https://johnhenry.github.io/image/iajh.png" width="32" height="32" alt="logo"><p class="hide-n-show-landscape-inline">John Henry </p></a><nav class="hide show-landscape-flex"><a href="/blog">Blog</a><a href="/#me">Me</a><a href="/#projects">Projects</a></nav></header><style>
  @import "../../js/negatablestring/0.0.0/negative-class.css";
</style>
<header>Permutations</header>
<section>
  <pre>
      <script type="module" style="display: block">
        import query from "../../js/url-params/0.0.0/query.mjs";
        import textToDOMNodes from "../../js/text-to-DOM-nodes/0.0.0/index.mjs";
        import pause from "../../js/pause/0.0.0/index.mjs";
        import transduce from "../../js/iterator-transduce/0.0.0/index.mjs";
        import { map, group, take } from "../../js/iterator-transduce/0.0.0/transducers.mjs";
        import "../../js/negatablestring/0.0.0/string-prototype-warn.mjs";
        import { negater } from "../../js/negatablestring/0.0.0/index.mjs";
        const negativeMarkup = ['<span class="negative">', "</span>"];
        const numToBinaryArray = (num, len, t = "~", f = "") => {
          return num
            .toString(2)
            .padStart(len, 0)
            .split("")
            .map(Number)
            .map((x) => (x ? t : f));
        };
        const zip = (a0, a1) => {
          return a0.map((item, i) => item + a1[i]);
        };
        const intersperse = function* (word, char = "~", after = false, before = true) {
          const letters = word.split("");
          if (after) {
            letters.push("");
          }
          let x = 0;
          if (!before) {
            x = 2 ** (letters.length - 1);
          }
          for (let i = 0; i < 2 ** letters.length - x; i++) {
            yield zip(numToBinaryArray(i, letters.length, char), letters).join("");
          }
        };
        const transform = transduce(
          map((x) => {
            const li = window.document.createElement("li");
            li.append(...textToDOMNodes(negater(x).toString(...negativeMarkup)));
            return li;
          }),
          group(Number(query.group) || 1),
          take(Number(query.take) || Infinity)
        );
        const ol = window.document.getElementById("permutations");
        for(const x of transform(intersperse(query.word || "", "~"))){
          ol.append(...x);
          if(query.autoscroll === 'on'){
            window.scrollTo(0, window.document.body.scrollHeight);
          }
          await pause(Number(query.pause) || 0);
        }
      </script>
      <form>
        <label>
          word <input type="text" name="word" placeholder="permutations" value="mississippi" />
        </label>
        <label>
          group <input type="number" name="group" placeholder="group" value="8" />
        </label>
        <label>
          take <input type="number" name="take" placeholder="take"  value="" />
        </label>
        <label>
          pause <input type="number" name="pause" placeholder="pause" value="1000" />
        </label>
        <label>
          autoscroll <input type="checkbox" checked name="autoscroll">
        </label>
        <input type="submit" value="Submit" />
      </form>
      <ol id="permutations" style="padding-left:128px"></ol>
    </pre>
</section><span class="mouse-chaser"></span><footer><a href="#">Â© 2021 John Henry</a><nav><a href="#" class="mouse-chaser-toggler" onclick="event.preventDefault(),window.cycleMouseChaser()" title="Click to toggle mouse."></a><a href="#" class="color-theme-toggler" onclick="event.preventDefault(),window.cycleTheme()" title="Click to toggle color theme."></a></nav></footer></body></html>