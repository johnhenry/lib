<section>
  <style>
    @import "../../js/negatablestring/0.0.0/negative-class.css";
    @import "../../css/on-display/0.0.0/scripts.css";
  </style>
  <h1>Linear Combinations</h1>
  <pre>
      <script type="module">
        import textToDOMNodes from "../../js/text-to-DOM-nodes/0.0.0/index.mjs";
        import "../../js/negatablestring/0.0.0/string-prototype-warn.mjs";
        import { negater, scale, concat } from "../../js/negatablestring/0.0.0/index.mjs";
        const negativeMarkup = ['<span class="negative">', "</span>"];
        const { log } = console;
        const NEGATIVE_COLOR = "red";
        const POSITIVE_COLOR = "lightblue";
        const target = window.document.getElementById("linear-combinations");
        const LinearCombinations = () => {
          const str0 = scale(window.document.getElementById('str0').value, 1).toString("~");
          const factor0 = window.document.getElementById('factor0').valueAsNumber;
          const str1 = scale(
              window.document.getElementById('str1').value, -1)
              .toString("~");
          const factor1 = window.document.getElementById('factor1').valueAsNumber;
          const num0 = negater(str0);
          const num1 = negater(str1);
          const scaled0 = scale(factor0, num0);
          const scaled1 = scale(num1, factor1);
          const result = concat(scaled0, scaled1);
          log(result.toString("~"));
          log(...result.consoleIterator(NEGATIVE_COLOR, POSITIVE_COLOR));
          target.textContent = "";
          target.append(...textToDOMNodes(`
            <hr />
            ${factor0} × "${(num0.toString(...negativeMarkup))}" +
            "${(num1.toString(...negativeMarkup))}" × ${factor1} =
            <hr />
            "${(scaled0.toString(...negativeMarkup))}" +
            "${(scaled1.toString(...negativeMarkup))}" =
            <hr />
            "${(result.toString(...negativeMarkup))}"`));
        };
        const str ="Hello World!";
        window.LinearCombinations = LinearCombinations;
        LinearCombinations();
      </script>
      <form>
        <input id="factor0" type="number" max="128" min="-128" step="0.25" value="1.5" onkeyup="LinearCombinations()" onchange="LinearCombinations()"/> × <input id="str0" type="text" value="Hello World!" onkeyup="LinearCombinations()" onchange="LinearCombinations()" style="text-align:center" placeholder="forward" title="forward" /> + <br />
        <input id="str1" type="text" value="Hello World!" class="negative" onkeyup="LinearCombinations()" onchange="LinearCombinations()" style="text-align:center" placeholder="reversed" title="reversed"  /> × <input id="factor1" type="number" max="128" min="-128" step="0.25" value="1.5" onkeyup="LinearCombinations()" onchange="LinearCombinations()"/> =
      </form>
      <div id="linear-combinations"></div>
    </pre>
</section>
